
<!DOCTYPE html>
<html lang="en">

<head>
    <style>
        body { margin: 0; }
    </style>
    <script src="//unpkg.com/three"></script>
    <script src="//unpkg.com/3d-force-graph"></script>
</head>

<body>
    <div id="3d-graph"></div>

    <script>
        const elem = document.getElementById('3d-graph');

        const Graph = ForceGraph3D()
        (elem)
            .jsonUrl('../datasets/miserables.json')
            .nodeLabel('id')
            .nodeAutoColorBy('group')
            .onNodeClick(node => {
                // Aim at node from outside it
                const distance = 40;
                const distRatio = 1 + distance / Math.hypot(node.x, node.y, node.z);

                const newPos = node.x || node.y || node.z
                    ? { x: node.x * distRatio, y: node.y * distRatio, z: node.z * distRatio }
                    : { x: 0, y: 0, z: distance };

                Graph.cameraPosition(
                    newPos,
                    node,
                    3000
                );
            })
    </script>
</body>

</html>
